<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tutorial 3: Defending a Network &mdash; TIGER 0.1.3 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tutorial 4: Cascading Failures" href="tutorial-4.html" />
    <link rel="prev" title="Tutorial 2: Attacking a Network" href="tutorial-2.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
            <a href="../index.html">
            <img src="../_static/tiger-logo.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#background-motivation">Background &amp; Motivation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#citing">Citing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../intro.html#example-1-measuring-graph-robustness">Example 1: Measuring graph robustness</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro.html#example-2-measuring-approximate-graph-robustness">Example 2: Measuring approximate graph robustness</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro.html#example-3-cascading-failure-simulation">Example 3: Cascading Failure Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../intro.html#example-4-sis-model-network-vaccination">Example 4: SIS Model Network Vaccination</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="tutorials.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tutorial-1.html">Tutorial 1: Measuring Vulnerability and Robustness</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial-1.html#comparing-robustness-measures">Comparing Robustness Measures</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial-1.html#approximate-vs-non-approximate">Approximate vs Non-Approximate</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial-2.html">Tutorial 2: Attacking a Network</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Tutorial 3: Defending a Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial-4.html">Tutorial 4: Cascading Failures</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial-5.html">Tutorial 5: Entity Dissemination</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">TIGER</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../measures.html">Measures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../attacks.html">Attacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../defenses.html">Defense</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cascading.html">Cascading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../diffusion.html">Diffusion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simulations.html">Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../graphs.html">Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils.html">Utils</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">TIGER</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="tutorials.html">Tutorials</a> &raquo;</li>
      <li>Tutorial 3: Defending a Network</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/tutorials/tutorial-3.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="tutorial-3-defending-a-network">
<h1>Tutorial 3: Defending a Network<a class="headerlink" href="#tutorial-3-defending-a-network" title="Permalink to this heading"></a></h1>
<p>The same centrality measures that are effective in attacking a network, are important to network defense (e.g., degree, betweenness, PageRank,eigenvector, etc.). In fact, if an attack strategy is known a priori, node monitoring can largely prevent an attack altogether. Below, we provide a high-level overview of several heuristic and optimization based defense techniques. Then, we show several defense techniques can be used to robustify an attacked network.</p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../_images/defense-comparison.jpg"><img alt="../_images/defense-comparison.jpg" src="../_images/defense-comparison.jpg" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">There are 3 common ways to defend a network: edge addition, edge rewiring and node monitoring. Selecting an ideal defense requires knowledge of the network topology and some information on the expected attack (or failure).</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>We categorize defense techniques based on whether they operate heuristically, modifying graph structure independent of a robustness measure, or by optimizing for a particular robustness measure. Within each  category a network can be defended i.e., improve its robustness by: (1) <em>edge rewiring</em>, (2) <em>edge addition</em>, or (iii) <em>node monitoring</em>. Edge rewiring is considered a <em>low</em> cost, <em>less</em> effective version of edge addition. On the other hand, edge addition almost always provides stronger defense. Node monitoring provides an orthogonal mechanism to increase network robustness by monitoring (or removing) nodes in the graph. This has an array of applications, including: (i) preventing targeted attacks, (ii) mitigating cascading failures, and (iii) reducing the spread of network entities. Below, we highlight several heuristic edge rewiring and addition techniques contained in TIGER:</p>
<ul class="simple">
<li><p><strong>Random addition</strong>: adds an edge between two random nodes.</p></li>
<li><p><strong>Preferential addition</strong>: adds an edge connecting two nodes with the lowest degrees.</p></li>
<li><p><strong>Random edge rewiring</strong>: removes a random edge and adds one using (1).</p></li>
<li><p><strong>Random neighbor rewiring</strong>: randomly selects neighbor of a node and removes the edge. An edge is then added using (1).</p></li>
<li><p><strong>Preferential random edge rewiring</strong>: selects an edge, disconnects the higher degree node, and reconnects to a random one.</p></li>
</ul>
<p>To help users evaluate the effectiveness of defense techniques, we compare 5 edge defenses on the Kentucky KY-2 water distribution network, averaged over 10 runs, using the code below.</p>
<div class="highlight-python notranslate" id="network-defense"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="kn">from</span> <span class="nn">graph_tiger.graphs</span> <span class="kn">import</span> <span class="n">graph_loader</span>
<span class="kn">from</span> <span class="nn">graph_tiger.defenses</span> <span class="kn">import</span> <span class="n">Defense</span>

<span class="k">def</span> <span class="nf">plot_results</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">steps</span><span class="p">,</span> <span class="n">results</span><span class="p">,</span> <span class="n">title</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">6.4</span><span class="p">,</span> <span class="mf">4.8</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">method</span><span class="p">,</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
       <span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="n">r</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">result</span><span class="p">]</span>
       <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">steps</span><span class="p">)),</span> <span class="n">result</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">method</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;LCC&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;N_rm / N&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

    <span class="n">save_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;/plots/&#39;</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">save_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">save_dir</span> <span class="o">+</span> <span class="n">title</span> <span class="o">+</span> <span class="s1">&#39;.pdf&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">clf</span><span class="p">()</span>

   <span class="n">graph</span> <span class="o">=</span> <span class="n">graph_loader</span><span class="p">(</span><span class="n">graph_type</span><span class="o">=</span><span class="s1">&#39;ky2&#39;</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
     <span class="s1">&#39;runs&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
     <span class="s1">&#39;steps&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
     <span class="s1">&#39;seed&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>

     <span class="s1">&#39;k_a&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
     <span class="s1">&#39;attack&#39;</span><span class="p">:</span> <span class="s1">&#39;rb_node&#39;</span><span class="p">,</span>
     <span class="s1">&#39;attack_approx&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="mf">0.1</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">graph</span><span class="p">)),</span>

     <span class="s1">&#39;defense&#39;</span><span class="p">:</span> <span class="s1">&#39;rewire_edge_preferential&#39;</span><span class="p">,</span>

     <span class="s1">&#39;plot_transition&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
     <span class="s1">&#39;gif_animation&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>

     <span class="s1">&#39;edge_style&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
     <span class="s1">&#39;node_style&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
     <span class="s1">&#39;fa_iter&#39;</span><span class="p">:</span> <span class="mi">20</span>
 <span class="p">}</span>

 <span class="n">edge_defenses</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;rewire_edge_random&#39;</span><span class="p">,</span> <span class="s1">&#39;rewire_edge_random_neighbor&#39;</span><span class="p">,</span> <span class="s1">&#39;rewire_edge_preferential_random&#39;</span><span class="p">,</span> <span class="s1">&#39;add_edge_random&#39;</span><span class="p">,</span> <span class="s1">&#39;add_edge_preferential&#39;</span><span class="p">]</span>

 <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Running edge defenses&quot;</span><span class="p">)</span>
 <span class="n">results</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
 <span class="k">for</span> <span class="n">defense</span> <span class="ow">in</span> <span class="n">edge_defenses</span><span class="p">:</span>
     <span class="n">params</span><span class="p">[</span><span class="s1">&#39;defense&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">defense</span>

     <span class="n">a</span> <span class="o">=</span> <span class="n">Defense</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span>
     <span class="n">results</span><span class="p">[</span><span class="n">defense</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">run_simulation</span><span class="p">()</span>
 <span class="n">plot_results</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">params</span><span class="p">[</span><span class="s1">&#39;steps&#39;</span><span class="p">],</span> <span class="n">results</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;water:edge_defense_runs=</span><span class="si">{}</span><span class="s1">,attack=</span><span class="si">{}</span><span class="s1">,&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;runs&#39;</span><span class="p">],</span> <span class="n">params</span><span class="p">[</span><span class="s1">&#39;attack&#39;</span><span class="p">]))</span>
</pre></div>
</div>
<p>The results of the code are shown in the figure below, where the network is initially attacked using the RB attack strategy (30 nodes removed), and the success of each defense is measured based on how it can reconnect the network by adding or rewiring edges in the network (higher is better). Based on the figure, we identify three key observations: (i) preferential edge addition performs the best; (ii) edge addition, in general, outperforms rewiring strategies; and (iii) random neighbor rewiring typically performs better than the other rewiring strategies.</p>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../_images/network-defense.jpg"><img alt="../_images/network-defense.jpg" src="../_images/network-defense.jpg" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Comparing ability of 5 edge defenses to improve KY-2 network robustness after removing 30 nodes via RB attack. Edge addition performs the best, with random edge rewiring performing the worst.</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tutorial-2.html" class="btn btn-neutral float-left" title="Tutorial 2: Attacking a Network" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorial-4.html" class="btn btn-neutral float-right" title="Tutorial 4: Cascading Failures" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Scott Freitas.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXX-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-XXXXXXX-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>